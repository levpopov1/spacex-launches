{"version":3,"sources":["components/Launch.js","lib/FormatDate.js","components/Launches.js","components/FilterControl.js","components/SortControl.js","components/ListControls.js","lib/MakeAPIRequest.js","components/ReloadData.js","components/Navbar.js","App.js","lib/DoSort.js","reportWebVitals.js","index.js"],"names":["Launch","launch","useState","launchDate","setLaunchDate","useEffect","ld","Date","date_utc","day","getDate","fullDate","d","nth","toLocaleDateString","month","year","className","flight_number","name","rocket","Launches","launches","map","id","FilterControl","setFilteredLaunches","years","setYears","yearFilters","getFilters","collection","Set","item","getFullYear","type","data-bs-toggle","aria-expanded","aria-labelledby","onClick","payload","SortControl","sortOrder","setSortOrder","order","target","src","alt","ListControls","makeAPIRequest","endpoint","a","requestOptions","API_URL","Object","keys","length","method","headers","body","JSON","stringify","fetch","response","ok","Error","status","json","data","error","docs","message","ReloadData","setFetchingError","setLaunches","setShowReloadMessage","reload","isError","setTimeout","Navbar","showReloadMessage","href","App","useReducer","state","action","filter","sort","b","init","filteredLaunches","fetchingError","initialState","getLaunches","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.77477453.chunk.js","sourcesContent":["import { useState, useEffect } from 'react';\nimport nth from '../lib/FormatDate';\n\nfunction Launch({launch}) {\n\n  const [launchDate, setLaunchDate] = useState(\"\");\n\n  useEffect(() => {\n    let ld = new Date(launch.date_utc);\n    let day = ld.getDate();\n    let fullDate = day + nth(day) + \" \" + ld.toLocaleDateString('default', { month: 'short', year: 'numeric' });\n    setLaunchDate(fullDate);\n  }, [launch]);\n\n  return (\n    <div className=\"launch card mb-3\">\n      <div className=\"card-body d-flex flex-row justify-content-between\">\n        <div className=\"launch-name d-flex flex-row\">\n          <h1 className=\"card-title mb-0\">\n            #{launch.flight_number}\n          </h1>\n          <h1 className=\"card-title ms-5 mb-0\">\n            {launch.name}\n          </h1>\n        </div>\n        <div className=\"launch-info text-end\">\n          <p className=\"text mb-0\">\n            {launchDate}\n          </p>\n          <h4 className=\"card-title mb-0\">\n            {launch.rocket.name}\n          </h4>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Launch;","// returns the ordinal for given data\nexport default function nth(d){\n  if (d > 3 && d < 21) return 'th';\n  switch (d % 10) {\n    case 1:  return \"st\";\n    case 2:  return \"nd\";\n    case 3:  return \"rd\";\n    default: return \"th\";\n  }\n}","import Launch from \"./Launch\";\n\nfunction Launches({launches}) {\n  return (\n    <div className=\"launches\">\n      { launches.map((launch) => <Launch launch={launch} key={launch.id}/>) }\n    </div>\n  );\n}\n\nexport default Launches;\n","import { useState, useEffect } from 'react';\n\nfunction FilterControl({launches, setFilteredLaunches}) {\n\n  const [years, setYears] = useState([]);\n  \n  useEffect(() => {\n    let yearFilters = getFilters(launches);\n    setYears(yearFilters);\n    return () => {\n      setYears([]);\n    }\n  }, [launches]);\n\n  const getFilters = (collection) => {\n    return [...new Set(collection.map(item => new Date(item.date_utc).getFullYear()))];\n  }\n\n  return (\n    <div className=\"dropdown\">\n      <button className=\"btn btn-primary dropdown-toggle\" type=\"button\" id=\"dropdownFilterByYear\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\n        Filter By Year\n      </button>\n      <ul className=\"dropdown-menu\" aria-labelledby=\"dropdownFilterByYear\">\n        <li><button className=\"dropdown-item\" onClick={() => setFilteredLaunches({type: 'reset', payload: launches})}>All Years</button></li>\n        {\n          years.map(year => <li key={year}><button className=\"dropdown-item\" onClick={() => setFilteredLaunches({type: 'filter', payload: year})}>{year}</button></li>)\n        }\n      </ul>\n    </div>\n  );\n}\n\nexport default FilterControl;\n","\nimport { useState } from 'react';\n\nfunction SortControl({setFilteredLaunches}) {\n\n  const [sortOrder, setSortOrder] = useState(\"descending\");\n\n  const handleSort = (order) => {\n    setFilteredLaunches({type: \"sort\", payload: {order: order, target: \"date_unix\"}});\n    if(sortOrder === \"descending\"){\n      setSortOrder(\"ascending\");\n    }\n    else{\n      setSortOrder(\"descending\");\n    }\n  }\n  \n  return (\n    <button className=\"btn btn-primary ms-2\" onClick={() => handleSort(sortOrder)}>\n      Sort {sortOrder}\n      <img src=\"icon/sort.png\" alt=\"Sort icon\" className=\"btn-icon\"/>\n    </button>\n  );\n}\n\nexport default SortControl;\n","import FilterControl from './FilterControl';\nimport SortControl from './SortControl';\n\nfunction ListControls({launches, setFilteredLaunches}) {\n  return (\n    <div className=\"row mb-3\">\n      <div className=\"col-sm-12 d-flex justify-content-end\">\n        <FilterControl launches={launches} setFilteredLaunches={setFilteredLaunches}/>\n        <SortControl setFilteredLaunches={setFilteredLaunches}/>\n      </div>\n    </div>\n  );\n}\n\nexport default ListControls;\n","export default async function makeAPIRequest(endpoint, requestOptions={}){\n\n  const API_URL = \"https://api.spacexdata.com/v4\";\n    \n  if(Object.keys(requestOptions).length === 0){\n    requestOptions = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        \"query\":{},\n        \"options\": {\n          \"select\": {\n            \"name\": 1,\n            \"rocket\": 1,\n            \"date_utc\": 1,\n            \"date_unix\": 1,\n            \"flight_number\": 1\n          },\n          \"pagination\": false,\n          \"populate\": [\n            {\n              \"path\": \"rocket\",\n              \"select\": {\n                \"name\": 1,\n              }\n            }\n          ]\n        }\n      })\n    }\n  }\n\n  try {\n    let response = await fetch(API_URL + endpoint, requestOptions);\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n    let data = await response.json();\n    return {error: null, data: data.docs}\n  } \n  catch (error) {\n    return {error: true, message: error.message, data: null}\n  }\n\n}","import makeAPIRequest from '../lib/MakeAPIRequest';\n\nfunction ReloadData({setFetchingError, setLaunches, setFilteredLaunches, setShowReloadMessage}) {\n\n  const reload = async () => {\n    setFetchingError({isError: false});\n\n    let response = await makeAPIRequest(\"/launches/query\");\n\n    if(response.error){\n      return setFetchingError({isError: true, message: response.message});\n    }\n    \n    setLaunches(response.data);\n    setFilteredLaunches({type: 'reset', payload: response.data});\n\n    setShowReloadMessage(true);\n\n    setTimeout(() => {\n      setShowReloadMessage(false);\n    }, 2000);\n  }\n\n  return (\n    <button className=\"btn btn-primary\" onClick={reload}>\n      Reload\n      <img src=\"icon/refresh.png\" alt=\"Sort icon\" className=\"btn-icon\"/>\n    </button>\n  );\n}\n\nexport default ReloadData;\n","import { useState } from 'react';\nimport ReloadData from \"./ReloadData\";\n\nfunction Navbar({setFetchingError, setLaunches, setFilteredLaunches}) {\n\n  const [showReloadMessage, setShowReloadMessage] = useState(false);\n\n  return (\n    <nav className=\"navbar navbar-light mb-3\">\n      <div className=\"container\">\n        <a className=\"navbar-brand d-flex\" href=\"/\">\n          <img src=\"spacex-logo.png\" alt=\"SpaceX Logo\"/>\n          LAUNCHES\n        </a>\n        <div className=\"controls d-flex flex-row align-items-center\">\n          {showReloadMessage && <p className=\"text text-success fw-bold mb-0 me-3\">Data Reloaded!</p>}\n          <ReloadData \n            setFetchingError={setFetchingError} \n            setLaunches={setLaunches} \n            setFilteredLaunches={setFilteredLaunches} \n            setShowReloadMessage={setShowReloadMessage}\n          />\n        </div>\n      </div>\n    </nav>\n  );\n}\n\nexport default Navbar;\n","import { useState, useEffect, useReducer } from 'react';\nimport Launches from './components/Launches';\nimport ListControls from \"./components/ListControls\";\nimport Navbar from \"./components/Navbar\";\nimport sortLaunches from './lib/DoSort';\nimport makeAPIRequest from './lib/MakeAPIRequest';\n\nfunction App() {\n\n  const [launches, setLaunches] = useState([]);\n  const [filteredLaunches, setFilteredLaunches] = useReducer(reducer, launches, init);\n  const [fetchingError, setFetchingError] = useState({isError: false, message: \"\"});\n\n  function init(initialState) {\n    return initialState;\n  }\n  \n  function reducer(state, action) {\n    switch (action.type) {\n      case 'filter':\n        return launches.filter(launch => new Date(launch.date_utc).getFullYear() === action.payload);\n      case 'sort':\n        return sortLaunches([...state], action.payload.order, action.payload.target);\n      case 'reset':\n        return init(action.payload);\n      default:\n        throw new Error();\n    }\n  }\n\n  useEffect(() => {\n    const getLaunches = async () => {\n\n      setFetchingError({isError: false});\n\n      let response = await makeAPIRequest(\"/launches/query\");\n\n      if(response.error){\n        return setFetchingError({isError: true, message: response.message});\n      }\n      \n      setLaunches(response.data);\n      setFilteredLaunches({type: 'reset', payload: response.data});\n    }\n    \n    getLaunches();\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <Navbar setFetchingError={setFetchingError} setLaunches={setLaunches} setFilteredLaunches={setFilteredLaunches}/>\n      <div className=\"container\">\n        <ListControls launches={launches} setFilteredLaunches={setFilteredLaunches}/>\n        <div className=\"row\">\n          <div className=\"col-sm-5\">\n            <img src=\"img/launch-home.png\" className=\"launch-img\" alt=\"Rocket Launch\"/>\n          </div>\n          <div className=\"col-sm-7\">\n            {\n              fetchingError.isError\n              ? <div>An error occured: <pre>fetchingError.message</pre></div>\n              : <Launches launches={filteredLaunches}/>\n            }\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","export default function doSort(collection, order, target){\n  return collection.sort((a, b) => order === 'ascending' ? a[target] - b[target] : b[target] - a[target]);\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/js/bootstrap.bundle.js'\nimport 'bootstrap/dist/css/bootstrap.css'\nimport './styles/stylesheet.scss';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}